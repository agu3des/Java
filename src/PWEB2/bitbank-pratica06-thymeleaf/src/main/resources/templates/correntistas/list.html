<html xmlns:th="www.thymeleaf.org">
  <head>
    <meta th:insert="~{/fragments/head(titulo='Cadastro de Correntistas')}">
  </head>

  <body>
    <div th:replace="~{/fragments/cabecalho}"></div>

    <div class="container">
      <div class="card">
        <div class="card-header">Cadastro de Correntistas</div>
        <div class="card-body">
          <div th:if="${not #strings.isEmpty(mensagem)}" th:text="${mensagem}" class="alert alert-success"></div>

          <form th:action="@{/correntistas/form}" method="GET">
            <button class="btn btn-primary" type="submit">Novo</button>
          </form>
          <br />

          <div th:if="${not #lists.isEmpty(correntistas)}">
            <div th:text="'Total ' + ${#lists.size(correntistas)} + ' registros'" style="text-align: right; color: gray; font-size: 0.85em" />

            <table class="table table-striped table-hover">
              <thead>
                <tr>
                  <th>Id</th>
                  <th>Nome</th>
                  <th>Email</th>
                  <th>Admin</th>
                  <th>Senha</th>
                </tr>
              </thead>
              <tbody>
                <tr th:each="correntista : ${correntistas}">
                  <td>[[${correntista.id}]]</td>
                  <td><a th:href="@{/correntistas/{id}(id=${correntista.id})}" th:text="${correntista.nome}"></a></td>
                  <td>[[${correntista.email}]]</td>
                  <td>
                    <img th:if="${correntista.admin}" th:src="@{/imagens/admin.png}" />
                    <img th:unless="${correntista.admin}" th:src="@{imagens/naoadmin.png}" />
                  </td>
                  <td th:text="${#strings.substring(correntista.senha,0,3)} + '...'"></td>
                </tr>
              </tbody>
            </table>
          </div>
        </div>
      </div>
    </div>
  </body>
</html>
